<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>scCAFM · Vue + Pinia Landing</title>
    <link rel="stylesheet" href="./assets/css/site.css" />
  </head>
 <body data-theme="dark" data-root="/passerby169-passerby.github.io" data-docs="./docs">
    <div id="app" v-cloak>
      <header class="site-header">
        <div class="nav-wrapper">
          <div class="nav-left">
            <a class="brand" href="./index.html" aria-label="scCAFM">
              <div class="brand-mark">sc</div>
              <div>
                <div>scCAFM</div>
                <small style="color: var(--text-secondary)">Causality stack</small>
              </div>
            </a>
            <button class="search-trigger" type="button" @click="openSearch">
              <span>Search</span>
              <span class="kbd">Ctrl</span>
              <span class="kbd">K</span>
            </button>
          </div>

          <nav class="nav-links">
            <template v-for="link in navLinks" :key="link.label">
              <div v-if="link.children" class="nav-item has-children">
                <button type="button">{{ link.label }}</button>
                <div class="nav-dropdown">
                  <a
                    v-for="child in link.children"
                    :key="child.label"
                    :href="child.external ? child.href : resolveLink(child.path)"
                    :target="child.external ? '_blank' : '_self'"
                    :rel="child.external ? 'noreferrer' : null"
                  >
                    {{ child.label }}
                  </a>
                </div>
              </div>
              <div v-else class="nav-item">
                <a :href="resolveLink(link.path)">{{ link.label }}</a>
              </div>
            </template>
          </nav>

          <button class="icon-btn" @click="toggleTheme" aria-label="切换主题">&#9790;</button>
        </div>
      </header>

      <main>
        <section class="hero">
          <div>
            <span class="badge">{{ hero.eyebrow }}</span>
            <h1>
              <span>{{ hero.title[0] }}</span><br />
              {{ hero.title[1] }}
            </h1>
            <p>{{ hero.description }}</p>
            <div class="hero-actions">
              <a class="btn primary" :href="resolveLink(hero.primary.path)">{{ hero.primary.label }}</a>
              <a class="btn secondary" :href="resolveLink(hero.secondary.path)">
                {{ hero.secondary.label }}
              </a>
            </div>
            <div class="hero-links">
              <a
                v-for="link in heroLinks"
                :key="link.label"
                :href="link.external ? link.href : resolveLink(link.path)"
                :target="link.external ? '_blank' : '_self'"
                :rel="link.external ? 'noreferrer' : null"
              >
                {{ link.label }}
              </a>
            </div>
          </div>
          <div class="hero-graphics">
            <div class="network-logo">
              <div class="network-core"></div>
              <div class="network-node" style="top: 20%; left: 25%" data-delay="1"></div>
              <div class="network-node" style="top: 75%; left: 25%" data-delay="2"></div>
              <div class="network-node" style="top: 18%; left: 70%" data-delay="3"></div>
              <div class="network-node" style="top: 80%; left: 70%" data-delay="1"></div>
              <div class="network-node" style="top: 50%; left: 10%" data-delay="2"></div>
              <div class="network-node" style="top: 50%; left: 90%" data-delay="3"></div>
              <div class="network-lines">
                <svg viewBox="0 0 400 300" xmlns="http://www.w3.org/2000/svg">
                  <defs>
                    <linearGradient id="lineGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                      <stop offset="0%" stop-color="#22d3ee" />
                      <stop offset="100%" stop-color="#facc15" />
                    </linearGradient>
                  </defs>
                  <path
                    d="M40 150 Q140 80 200 150 T360 150"
                    stroke="url(#lineGradient)"
                    stroke-width="2"
                    fill="none"
                    stroke-linecap="round"
                  />
                  <path
                    d="M120 50 Q200 20 280 60"
                    stroke="rgba(14,165,233,0.5)"
                    stroke-width="2"
                    fill="none"
                  />
                  <path
                    d="M120 250 Q200 280 280 240"
                    stroke="rgba(236,72,153,0.5)"
                    stroke-width="2"
                    fill="none"
                  />
                </svg>
              </div>
            </div>
          </div>
        </section>

        <section class="feature-grid">
          <article class="feature-card" v-for="card in featureCards" :key="card.title">
            <span class="icon">{{ card.icon }}</span>
            <h3>{{ card.title }}</h3>
            <p>{{ card.description }}</p>
          </article>
        </section>

        <section class="docs-preview">
          <h2 style="margin-bottom: 1rem">Docs sneak peek</h2>
          <div class="docs-preview-grid">
            <article class="doc-card" v-for="doc in docPages" :key="doc.id">
              <span class="badge">{{ doc.badge }}</span>
              <h3>{{ doc.title }}</h3>
              <p>{{ doc.summary }}</p>
              <a :href="resolveLink(doc.path)" style="margin-top: auto; color: var(--accent)">
                Open {{ doc.title }} →
              </a>
            </article>
          </div>
        </section>
      </main>

      <footer class="footer">
        scCAFM © {{ new Date().getFullYear() }} · Building causality-aware tooling for Vue + Pinia teams.
      </footer>

      <div class="search-overlay" v-if="searchOpen" @click.self="closeSearch">
        <div class="search-modal">
          <header>
            <strong>Search docs</strong>
            <span class="kbd">Esc</span>
          </header>
          <input
            type="search"
            placeholder="输入关键字，例如 perturbation"
            v-model="searchQuery"
            data-search-input
          />
          <div class="search-results" v-if="searchResults.length">
            <div class="search-result" v-for="result in searchResults" :key="result.id" @click="navigateTo(result.path)">
              <div class="search-result-title">{{ result.title }}</div>
              <div class="search-result-desc">{{ result.summary }}</div>
            </div>
          </div>
          <p v-else style="color: var(--text-secondary); margin-top: 1rem">暂无匹配内容</p>
        </div>
      </div>
    </div>

    <script src="./assets/js/vendor/vue.global.prod.js"></script>
    <script src="./assets/js/vendor/vue-demi.iife.js"></script>
    <script src="./assets/js/vendor/pinia.iife.prod.js"></script>
    <script src="./assets/js/vendor/marked.min.js"></script>
    <script src="./assets/js/docs-inline.js"></script>
    <script src="./assets/js/site.js"></script>
    <script>
      window.addEventListener('DOMContentLoaded', () => {
        // 确保挂载函数正确调用
        if (window.scCAFMFront && window.scCAFMFront.mountLanding) {
          window.scCAFMFront.mountLanding('#app')
        } else {
          console.error('Mount function not found')
        }
      })
    </script>
  </body>
</html>
